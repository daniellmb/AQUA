angular.module("todomvc",["ngRoute"]).config(function(a){a.when("/",{controller:"TodoCtrl",templateUrl:"todomvc-index.html"}).when("/:status",{controller:"TodoCtrl",templateUrl:"todomvc-index.html"}).otherwise({redirectTo:"/"})});angular.module("todomvc").controller("TodoCtrl",function(a,d,e,f){var c=a.h=f.get();a.c="";a.b=null;a.$watch("todos",function(b,d){a.e=e("filter")(c,{a:!1}).length;a.l=c.length-a.e;a.j=!a.e;b!==d&&f.put(c)},!0);a.$on("$routeChangeSuccess",function(){var b=a.status=d.status||"";a.p="active"===b?{a:!1}:"completed"===b?{a:!0}:null});a.i=function(){var b=a.c.trim();b.length&&(c.push({title:b,a:!1}),a.c="")};a.m=function(b){a.b=b;a.d=angular.extend({},b)};a.f=function(b){a.b=null;b.title=b.title.trim();
b.title||a.g(b)};a.o=function(b){c[c.indexOf(b)]=a.d;a.f(a.d)};a.g=function(a){c.splice(c.indexOf(a),1)};a.k=function(){a.h=c=c.filter(function(a){return!a.a})};a.n=function(a){c.forEach(function(c){c.a=!a})}});angular.module("todomvc").directive("todoEscape",function(){return function(a,d,e){d.bind("keydown",function(d){27===d.keyCode&&a.$apply(e.todoEscape)})}});angular.module("todomvc").directive("todoFocus",function(a){return function(d,e,f){d.$watch(f.todoFocus,function(c){c&&a(function(){e[0].focus()},0,!1)})}});angular.module("todomvc").factory("todoStorage",function(){return{get:function(){return JSON.parse(window.localStorage.getItem("todos-angularjs")||"[]")},put:function(a){window.localStorage.setItem("todos-angularjs",JSON.stringify(a))}}});
